<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"> 
<head>
<title>Layout</title>
<link rel="stylesheet" th:href="@{~/css/bootstrap.min.css}" href="/css/bootstrap.min.css" />
<link rel="stylesheet" th:href="@{~/css/bootstrap-responsive.css}" href="/css/bootstrap-responsive.css" />
<script type="text/javascript" src="/js/jquery-1.7.2.js"></script>
<script type="text/javascript" src="/js/jquery.validate.js"></script>
</head>
<body>
	<div class="container">
		<form id="upload-file-form">
		  <label for="upload-file-input">Upload your file:</label>
		  <input id="upload-file-input" type="file" name="uploadfile" accept="*">
		</form>
	</div>
	
	<script th:inline="javascript">
	/*<![CDATA[*/
	$(document).ready(function() {
	  $("#upload-file-input").on("change", uploadFile);
	});
	
	/**
	 * Upload the file sending it via Ajax at the Spring Boot server.
	 */
	function uploadFile() {
	  $.ajax({
	    url: "/uploadFile",
	    type: "POST",
	    data: new FormData($("#upload-file-form")[0]),
	    enctype: 'multipart/form-data',
	    processData: false,
	    contentType: false,
	    cache: false,
	    success: function () {
	      // Handle upload success
	      // ...
	    },
	    error: function () {
	      // Handle upload error
	      // ...
	    }
	  });
	} // function uploadFile
	/*]]>*/
	</script>
</body>
</html>
